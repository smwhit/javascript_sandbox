<!doctype html>
<html>
<head>
	<meta charset=utf-8>
	<title>Mustache</title>
	<style>
		h2 span { color: #gray; font-size: .8em;}
	</style>
</head>
<body>
	<ul class="tweets">
		<script id="template" type="text/x-handlebars-template">
		{{#each this}}
		<li>
			<h2>{{fullName author}}</h2>
			<p>{{{tweet}}}</p>

			{{#if quote}}
			<h5>{{quote}}</h5>
			{{else}}
			<h5>Author does not have a quote</h5>
			{{/if}}
		</li>
		{{/each}}
		</script>
	</ul>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="https://raw.github.com/wycats/handlebars.js/1.0.0-rc.3/dist/handlebars.js"></script>

	<script>
	(function(){
		var context = [
			{
				author: { first: 'Jeffrey', last: 'Way', age: 27},
				tweet: '30 Days to learn jquery',
				quote: 'Never ever give up'
			},
			{
				author: { first: 'Jeffrey', last: 'Way', age: 27},
				tweet: '30 Days to learn jquery',
			}
		],

			template = Handlebars.compile($('#template').html());

			Handlebars.registerHelper('fullName', function(author){
				return author.first + ' ' + author.last + ' - ' + author.age;
			});

			console.log(context);
			$('ul.tweets').append(template(context));
		
	})();
	</script>
</body>
</html>